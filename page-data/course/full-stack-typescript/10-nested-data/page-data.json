{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/course/full-stack-typescript/10-nested-data/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Learn TypeScript w/ Mike North","courses":[{"id":"fundamentals-v3","name":"TypeScript Fundamentals v3","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"fundamentals-v4","name":"TypeScript Fundamentals v4","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"intermediate-v1","name":"Intermediate TypeScript","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"},{"id":"making-typescript-stick","name":"Making TypeScript Stick","summary":"Tackle a series of challenges designed to reinforce your knowledge and make\nthe important concepts truly \"stick\" in your mind.\n"},{"id":"enterprise-v2","name":"Enterprise TypeScript v2","summary":"Combine TypeScript and GraphQL's type systems to create full-stack, fully\ntype-checked code bases that are shockingly easy to refactor and maintain.\n"},{"id":"full-stack-typescript","name":"Full Stack TypeScript","summary":"Combine TypeScript and GraphQL's type systems to create full-stack, fully\ntype-checked code bases that are shockingly easy to refactor and maintain.\n"},{"id":"intermediate-v2","name":"Intermediate TypeScript","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"}]}},"markdownRemark":{"id":"a66baa9b-e1bb-5cc5-9a7c-003d1dc993be","excerpt":"Schema changes Open schema.graphql and add the following types and make the following changes Run yarn codegen in both the client and server folders to generate…","html":"<h2 id=\"schema-changes\" style=\"position:relative;\"><a href=\"#schema-changes\" aria-label=\"schema changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Schema changes</h2>\n<p>Open <code>schema.graphql</code> and add the following types</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">graphql</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">UserStats</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">tweetCount</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">Int</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">followingCount</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">Int</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">followerCount</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">Int</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">Tweet</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">id</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">String</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">body</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">String</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">createdAt</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">String</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">updatedAt</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">String</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">author</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">User</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">stats</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">TweetStats</span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">TweetStats</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">favoriteCount</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">Int</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">retweetCount</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">Int</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">commentCount</span><span style=\"color: #24292F\">: </span><span style=\"color: #0550AE\">Int</span><span style=\"color: #CF222E\">!</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<p>and make the following changes</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">type Query {</span></div><div class='line'><span style=\"color: #24292F\">  currentUser: User!</span></div><div class='line'><span style=\"color: #24292F\">  suggestions: [Suggestion!]!</span></div><div class='line'><span style=\"color: #116329\">+ tweets: [Tweet!]!</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">type User {</span></div><div class='line'><span style=\"color: #24292F\">  id: String!</span></div><div class='line'><span style=\"color: #24292F\">  name: String!</span></div><div class='line'><span style=\"color: #24292F\">  handle: String!</span></div><div class='line'><span style=\"color: #24292F\">  coverUrl: String!</span></div><div class='line'><span style=\"color: #24292F\">  avatarUrl: String!</span></div><div class='line'><span style=\"color: #24292F\">  createdAt: String!</span></div><div class='line'><span style=\"color: #24292F\">  updatedAt: String!</span></div><div class='line'><span style=\"color: #116329\">+ stats: UserStats</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<p>Run <code>yarn codegen</code> in both the <code>client</code> and <code>server</code> folders to generate updated TypeScript types.</p>\n<h2 id=\"context-cache\" style=\"position:relative;\"><a href=\"#context-cache\" aria-label=\"context cache permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Context Cache</h2>\n<p>We also need to set up some caches in our <code>context</code> object, to avoid the <code>N+1</code> DB query problem.</p>\n<p>Open <code>server/src/apollo-server.ts</code> and make the following change</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">    context: () =&gt;</span></div><div class='line'><span style=\"color: #24292F\">      ({</span></div><div class='line'><span style=\"color: #24292F\">        db,</span></div><div class='line'><span style=\"color: #116329\">+       dbTweetCache: {},</span></div><div class='line'><span style=\"color: #116329\">+       dbTweetToFavoriteCountMap: {},</span></div><div class='line'><span style=\"color: #116329\">+       dbUserCache: {},</span></div><div class='line'><span style=\"color: #24292F\">      } as TwitterResolverContext),</span></div></code></div></pre>\n<p>and in your <code>server/src/resolvers.ts</code> add these new fields to the <code>TwitterResolverContext</code> interface</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> Db, { DbTweet, DbUser } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"./db\"</span></div><div class='line'></div><div class='line'><span style=\"color: #CF222E\">export</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">interface</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">TwitterResolverContext</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">db</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Db</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">dbTweetCache</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Record</span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">DbTweet</span><span style=\"color: #24292F\">&gt;</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">dbUserCache</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Record</span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">DbUser</span><span style=\"color: #24292F\">&gt;</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">dbTweetToFavoriteCountMap</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Record</span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">&gt;</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<h2 id=\"resolvers-and-nested-types\" style=\"position:relative;\"><a href=\"#resolvers-and-nested-types\" aria-label=\"resolvers and nested types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resolvers and nested types</h2>\n<p>Create a file for simple “DB representation” -> “GraphQL representation” transforms <code>server/src/transforms.ts</code></p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { Tweet } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"./resolvers-types.generated\"</span></div><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { DbTweet } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"./db\"</span></div><div class='line'></div><div class='line'><span style=\"color: #CF222E\">export</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">tweetTransform</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> (</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">t</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">DbTweet</span></div><div class='line'><span style=\"color: #24292F\">)</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Omit</span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\">Tweet</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">\"author\"</span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=&gt;</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">    id: t.id,</span></div><div class='line'><span style=\"color: #24292F\">    body: t.message,</span></div><div class='line'><span style=\"color: #24292F\">    createdAt: t.createdAt,</span></div><div class='line'><span style=\"color: #24292F\">    updatedAt: t.updatedAt,</span></div><div class='line'><span style=\"color: #24292F\">  }</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<p>In your <code>Query</code> resolver, <code>server/src/resolvers/Query.ts</code> add an import to your “transforms” file</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { tweetTransform } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"../transforms\"</span></div></code></div></pre>\n<p>and a <code>tweets</code> function that uses it. Note that we’re using our cache objects</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #953800\">tweets</span><span style=\"color: #24292F\">: (</span></div><div class='line'><span style=\"color: #24292F\">  _,</span></div><div class='line'><span style=\"color: #24292F\">  __,</span></div><div class='line'><span style=\"color: #24292F\">  { db, dbTweetToFavoriteCountMap, dbUserCache, dbTweetCache }</span></div><div class='line'><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">=&gt;</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  db.</span><span style=\"color: #8250DF\">getAllUsers</span><span style=\"color: #24292F\">().</span><span style=\"color: #8250DF\">forEach</span><span style=\"color: #24292F\">((</span><span style=\"color: #953800\">user</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">=&gt;</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">    dbUserCache[user.id] </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> user;</span></div><div class='line'><span style=\"color: #24292F\">  });</span></div><div class='line'><span style=\"color: #24292F\">  db.</span><span style=\"color: #8250DF\">getAllFavorites</span><span style=\"color: #24292F\">().</span><span style=\"color: #8250DF\">forEach</span><span style=\"color: #24292F\">((</span><span style=\"color: #953800\">favorite</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">=&gt;</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">count</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> dbTweetToFavoriteCountMap[favorite.tweetId] </span><span style=\"color: #CF222E\">||</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">0</span><span style=\"color: #24292F\">;</span></div><div class='line'><span style=\"color: #24292F\">    dbTweetToFavoriteCountMap[favorite.tweetId] </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> count </span><span style=\"color: #CF222E\">+</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">1</span><span style=\"color: #24292F\">;</span></div><div class='line'><span style=\"color: #24292F\">  });</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> db.</span><span style=\"color: #8250DF\">getAllTweets</span><span style=\"color: #24292F\">().</span><span style=\"color: #8250DF\">map</span><span style=\"color: #24292F\">((</span><span style=\"color: #953800\">t</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">=&gt;</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">    dbTweetCache[t.id] </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> t;</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">tweetTransform</span><span style=\"color: #24292F\">(t);</span></div><div class='line'><span style=\"color: #24292F\">  });</span></div><div class='line'><span style=\"color: #24292F\">},</span></div></code></div></pre>\n<p>Now use Apollo Explorer to try and run this query</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">graphql</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">query</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">GetTweets</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">currentUser</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #953800\">stats</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #953800\">followerCount</span></div><div class='line'><span style=\"color: #24292F\">    }</span></div><div class='line'><span style=\"color: #24292F\">  }</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\">tweets</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #953800\">body</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #953800\">author</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #953800\">handle</span></div><div class='line'><span style=\"color: #24292F\">    }</span></div><div class='line'><span style=\"color: #24292F\">  }</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<p>Note that all the <code>tweet.author</code> fields have a <code>null</code> value, as does the <code>currentUser.stats</code> field.</p>\n<p>We can address this with inner resolvers</p>\n<h2 id=\"inner-resolvers\" style=\"position:relative;\"><a href=\"#inner-resolvers\" aria-label=\"inner resolvers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Inner resolvers</h2>\n<p>Create a new <code>User</code> resolver module <code>server/src/resolvers/User.ts</code></p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { TwitterResolverContext } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"../resolvers\"</span></div><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { UserResolvers } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"../resolvers-types.generated\"</span></div><div class='line'></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">userTwitterResolver</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">UserResolvers</span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\">TwitterResolverContext</span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span></div><div class='line'><span style=\"color: #24292F\">  {</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #8250DF\">stats</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">user</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">_</span><span style=\"color: #24292F\">, { </span><span style=\"color: #953800\">db</span><span style=\"color: #24292F\"> }) {</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">        followingCount: </span><span style=\"color: #0550AE\">123</span><span style=\"color: #24292F\">,</span></div><div class='line'><span style=\"color: #24292F\">        followerCount: </span><span style=\"color: #0550AE\">456789</span><span style=\"color: #24292F\">,</span></div><div class='line'><span style=\"color: #24292F\">        tweetCount: db.</span><span style=\"color: #8250DF\">getUserTweets</span><span style=\"color: #24292F\">(user.id).</span><span style=\"color: #0550AE\">length</span><span style=\"color: #24292F\">,</span></div><div class='line'><span style=\"color: #24292F\">      }</span></div><div class='line'><span style=\"color: #24292F\">    },</span></div><div class='line'><span style=\"color: #24292F\">  }</span></div><div class='line'></div><div class='line'><span style=\"color: #CF222E\">export</span><span style=\"color: #953800\"> </span><span style=\"color: #CF222E\">default</span><span style=\"color: #953800\"> </span><span style=\"color: #24292F\">userTwitterResolver</span></div></code></div></pre>\n<p>and a <code>Tweet</code> resolver module <code>server/src/resolvers/Tweet.ts</code></p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { TwitterResolverContext } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"../resolvers\"</span></div><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { TweetResolvers } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"../resolvers-types.generated\"</span></div><div class='line'></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">tweetTwitterResolver</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">TweetResolvers</span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\">TwitterResolverContext</span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span></div><div class='line'><span style=\"color: #24292F\">  {</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #8250DF\">author</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">tweet</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">_</span><span style=\"color: #24292F\">, { </span><span style=\"color: #953800\">dbUserCache</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">dbTweetCache</span><span style=\"color: #24292F\"> }) {</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">dbTweet</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> dbTweetCache[tweet.id]</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> (</span><span style=\"color: #CF222E\">!</span><span style=\"color: #24292F\">dbTweet)</span></div><div class='line'><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">throw</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">Error</span><span style=\"color: #24292F\">(</span></div><div class='line'><span style=\"color: #24292F\">          </span><span style=\"color: #0A3069\">\"Attempted to find Tweet.author, but the tweet was not found in dbTweetCache\"</span></div><div class='line'><span style=\"color: #24292F\">        )</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">dbUser</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> dbUserCache[dbTweet.userId]</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> (</span><span style=\"color: #CF222E\">!</span><span style=\"color: #24292F\">dbUser)</span></div><div class='line'><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">throw</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">Error</span><span style=\"color: #24292F\">(</span></div><div class='line'><span style=\"color: #24292F\">          </span><span style=\"color: #0A3069\">\"Attempted to find Tweet.author, but the tweet's author (a User) was not found in dbUserCache\"</span></div><div class='line'><span style=\"color: #24292F\">        )</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> dbUser</span></div><div class='line'><span style=\"color: #24292F\">    },</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #8250DF\">stats</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">tweet</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">_</span><span style=\"color: #24292F\">, { </span><span style=\"color: #953800\">dbTweetToFavoriteCountMap</span><span style=\"color: #24292F\"> }) {</span></div><div class='line'><span style=\"color: #24292F\">      </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">        commentCount: </span><span style=\"color: #0550AE\">99</span><span style=\"color: #24292F\">,</span></div><div class='line'><span style=\"color: #24292F\">        retweetCount: </span><span style=\"color: #0550AE\">1</span><span style=\"color: #24292F\">,</span></div><div class='line'><span style=\"color: #24292F\">        favoriteCount:</span></div><div class='line'><span style=\"color: #24292F\">          dbTweetToFavoriteCountMap[tweet.id] </span><span style=\"color: #CF222E\">||</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">0</span><span style=\"color: #24292F\">,</span></div><div class='line'><span style=\"color: #24292F\">      }</span></div><div class='line'><span style=\"color: #24292F\">    },</span></div><div class='line'><span style=\"color: #24292F\">  }</span></div><div class='line'></div><div class='line'><span style=\"color: #CF222E\">export</span><span style=\"color: #953800\"> </span><span style=\"color: #CF222E\">default</span><span style=\"color: #953800\"> </span><span style=\"color: #24292F\">tweetTwitterResolver</span></div></code></div></pre>\n<p>Wire these resolvers up in your <code>server/src/resolvers.ts</code> file</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #116329\">+import tweetTwitterResolver from './resolvers/Tweet';</span></div><div class='line'><span style=\"color: #116329\">+import userTwitterResolver from './resolvers/User';</span></div><div class='line'></div><div class='line'><span style=\"color: #24292F\">export function createResolvers(): Resolvers&lt;TwitterResolverContext&gt; {</span></div><div class='line'><span style=\"color: #24292F\">  const resolvers = {</span></div><div class='line'><span style=\"color: #24292F\">    Query: queryTwitterResolver,</span></div><div class='line'><span style=\"color: #116329\">+   Tweet: tweetTwitterResolver,</span></div><div class='line'><span style=\"color: #116329\">+   User: userTwitterResolver,</span></div><div class='line'><span style=\"color: #24292F\">  };</span></div><div class='line'><span style=\"color: #24292F\">  return resolvers;</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<h2 id=\"consume-it-in-the-ui\" style=\"position:relative;\"><a href=\"#consume-it-in-the-ui\" aria-label=\"consume it in the ui permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consume it in the UI</h2>\n<p>We’re going to make two frontend changes.</p>\n<h3 id=\"current-user-stats\" style=\"position:relative;\"><a href=\"#current-user-stats\" aria-label=\"current user stats permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Current User Stats</h3>\n<p>First, in <code>client/src/App.tsx</code>, add a new “stats” part to the <code>GET_CURRENT_USER</code> GraphQL operation</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #24292F\">      avatarUrl</span></div><div class='line'><span style=\"color: #24292F\">      createdAt</span></div><div class='line'><span style=\"color: #116329\">+     stats {</span></div><div class='line'><span style=\"color: #116329\">+       tweetCount</span></div><div class='line'><span style=\"color: #116329\">+       followingCount</span></div><div class='line'><span style=\"color: #116329\">+       followerCount</span></div><div class='line'><span style=\"color: #116329\">+     }</span></div><div class='line'><span style=\"color: #24292F\">    }</span></div><div class='line'><span style=\"color: #24292F\">    suggestions {</span></div></code></div></pre>\n<p>This should allow you to pass the <code>currentUser</code> value through to the <code>Header</code> component</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #82071E\">-  &lt;Header currentUser={CURRENT_USER} /&gt;</span></div><div class='line'><span style=\"color: #116329\">+  &lt;Header currentUser={currentUser} /&gt;</span></div></code></div></pre>\n<p>Now you should see non-zero “follower count” and “following count” numbers for the currently logged in user</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e559d96e2325ce1dbb97e80f1b185c11/2bef9/follow-count.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.400000000000006%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVQoz2Noa9+nqtljYj7Z0HaGkfsCQ9NJ+kaT9Iwn6xlN0jOaZGg62cgMJ2Joad+nptFtaDujctHVbdff28Zv8PObFhA8IzhsVkDwDHPrKXj0MzS2bFNUqtaynTDrwNMPf/+75m93dm7xC+z29e+ydWw1MGnTNWzVM2zVxYYYGhpXS0qna2gWWPpP9M5doWFUoaGRp6FVoK6Zr6JWoKZRoK5ZoKqRp65ZgIkYqmrmi4qHqmkkKShHG6tnRRm2+xjWBRo3+RrU+xnU+RrUBRo0BRk2K6jEqKgmKKvGI6EEhsKiCQwMppJSniqa/gZKUSbK8cY2EeraAQKijvom4Q5uyUamUZZyqfyCjgKCTmiIob9/kalpqId7iotHgp99TqRpmZ9dhqthiq1WfKBtTrhrfrBNXrxVtb1jrINDHBpi+Pjx49OnT1++ePnu/fuP7z9+fPjp3b0PHx5++vzo87v7H97ce//u7oePzz99/PQREzB8+fL1/v2Hb968/fz589u3b99/fv/u07uPXz7+JwIwfPjw4eHDh69evfr79++fP39///r9+/efP7///Pv7DwVhAwDnwTCrNNPDswAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"follow-count\"\n        title=\"follow-count\"\n        src=\"/static/e559d96e2325ce1dbb97e80f1b185c11/00d43/follow-count.png\"\n        srcset=\"/static/e559d96e2325ce1dbb97e80f1b185c11/63868/follow-count.png 250w,\n/static/e559d96e2325ce1dbb97e80f1b185c11/0b533/follow-count.png 500w,\n/static/e559d96e2325ce1dbb97e80f1b185c11/00d43/follow-count.png 1000w,\n/static/e559d96e2325ce1dbb97e80f1b185c11/2bef9/follow-count.png 1024w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"tweets\" style=\"position:relative;\"><a href=\"#tweets\" aria-label=\"tweets permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tweets</h3>\n<p>Open <code>client/src/Timeline.tsx</code> and add the following imports</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { gql } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"@apollo/client\"</span></div><div class='line'><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> { useGetTimelineTweetsQuery } </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"./generated/graphql\"</span></div></code></div></pre>\n<p>add a new query in top-level module scope</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">export</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">GET_TIMELINE_TWEETS</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">gql</span><span style=\"color: #0A3069\">`</span></div><div class='line'><span style=\"color: #0A3069\">  query GetTimelineTweets {</span></div><div class='line'><span style=\"color: #0A3069\">    tweets {</span></div><div class='line'><span style=\"color: #0A3069\">      id</span></div><div class='line'><span style=\"color: #0A3069\">      body</span></div><div class='line'><span style=\"color: #0A3069\">      stats {</span></div><div class='line'><span style=\"color: #0A3069\">        favoriteCount</span></div><div class='line'><span style=\"color: #0A3069\">        retweetCount</span></div><div class='line'><span style=\"color: #0A3069\">        commentCount</span></div><div class='line'><span style=\"color: #0A3069\">      }</span></div><div class='line'><span style=\"color: #0A3069\">      createdAt</span></div><div class='line'><span style=\"color: #0A3069\">      author {</span></div><div class='line'><span style=\"color: #0A3069\">        name</span></div><div class='line'><span style=\"color: #0A3069\">        handle</span></div><div class='line'><span style=\"color: #0A3069\">        avatarUrl</span></div><div class='line'><span style=\"color: #0A3069\">      }</span></div><div class='line'><span style=\"color: #0A3069\">    }</span></div><div class='line'><span style=\"color: #0A3069\">  }</span></div><div class='line'><span style=\"color: #0A3069\">`</span></div></code></div></pre>\n<p>Because we created a new operation, we’ll need to run <code>yarn codegen</code> within the <code>client</code> sub-project again\nto get the new type information.</p>\n<p>Within this component, before it returns, add this</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> { </span><span style=\"color: #0550AE\">loading</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">error</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">data</span><span style=\"color: #24292F\"> } </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">useGetTimelineTweetsQuery</span><span style=\"color: #24292F\">()</span></div><div class='line'><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> (loading) </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> &lt;</span><span style=\"color: #953800\">p</span><span style=\"color: #24292F\">&gt;Loading</span><span style=\"color: #CF222E\">...&lt;/</span><span style=\"color: #24292F\">p</span><span style=\"color: #CF222E\">&gt;</span></div><div class='line'><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> (error) </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> &lt;</span><span style=\"color: #953800\">p</span><span style=\"color: #24292F\">&gt;</span><span style=\"color: #0550AE\">Error</span><span style=\"color: #24292F\">: {error}</span><span style=\"color: #CF222E\">&lt;/</span><span style=\"color: #24292F\">p</span><span style=\"color: #CF222E\">&gt;</span></div><div class='line'><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> (</span><span style=\"color: #CF222E\">!</span><span style=\"color: #24292F\">data) </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> &lt;</span><span style=\"color: #953800\">p</span><span style=\"color: #24292F\">&gt;No data</span><span style=\"color: #CF222E\">!&lt;/</span><span style=\"color: #24292F\">p</span><span style=\"color: #CF222E\">&gt;</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> { </span><span style=\"color: #0550AE\">tweets</span><span style=\"color: #24292F\"> } </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> data</span></div><div class='line'><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> (</span><span style=\"color: #CF222E\">!</span><span style=\"color: #24292F\">tweets) </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> &lt;</span><span style=\"color: #953800\">p</span><span style=\"color: #24292F\">&gt;No tweets</span><span style=\"color: #CF222E\">!&lt;/</span><span style=\"color: #24292F\">p</span><span style=\"color: #CF222E\">&gt;</span></div></code></div></pre>\n<p>And now instead of mapping over the fixture data array, use\nthe data that the GraphQL API returns</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #82071E\">-  {TWEETS.map((t) =&gt; {</span></div><div class='line'><span style=\"color: #116329\">+  {tweets.map((t) =&gt; {</span></div></code></div></pre>\n<p>You can delete the <code>TWEETS</code> array if you like, we don’t need it anymore.\nYou should see some new tweets in the feed now!</p>","tableOfContents":"<ul>\n<li><a href=\"#schema-changes\">Schema changes</a></li>\n<li><a href=\"#context-cache\">Context Cache</a></li>\n<li><a href=\"#resolvers-and-nested-types\">Resolvers and nested types</a></li>\n<li><a href=\"#inner-resolvers\">Inner resolvers</a></li>\n<li>\n<p><a href=\"#consume-it-in-the-ui\">Consume it in the UI</a></p>\n<ul>\n<li><a href=\"#current-user-stats\">Current User Stats</a></li>\n<li><a href=\"#tweets\">Tweets</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/course/full-stack-typescript/10-nested-data/"},"frontmatter":{"title":"Nested data","course":"full-stack-typescript","date":"March 24, 2022","description":"In two situations, there's some \"detail\" in a nested object that we need to build only when needed\n"}}},"pageContext":{"slug":"/course/full-stack-typescript/10-nested-data/","title":"Nested data","course":"full-stack-typescript","order":10,"previous":{"fields":{"slug":"/course/full-stack-typescript/09-ui-consumes-data/"},"frontmatter":{"title":"Data from the database","order":9,"course":"full-stack-typescript","isExercise":null}},"next":{"fields":{"slug":"/course/full-stack-typescript/11-nested-data copy/"},"frontmatter":{"title":"Mutations","order":11,"course":"full-stack-typescript","isExercise":null}}}},
    "staticQueryHashes": ["2785745750","2841359383"]}