{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/course/full-stack-typescript/01-intro/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Learn TypeScript w/ Mike North","courses":[{"id":"fundamentals-v3","name":"TypeScript Fundamentals v3","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"fundamentals-v4","name":"TypeScript Fundamentals v4","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"intermediate-v1","name":"Intermediate TypeScript","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"},{"id":"making-typescript-stick","name":"Making TypeScript Stick","summary":"Tackle a series of challenges designed to reinforce your knowledge and make\nthe important concepts truly \"stick\" in your mind.\n"},{"id":"enterprise-v2","name":"Enterprise TypeScript v2","summary":"Combine TypeScript and GraphQL's type systems to create full-stack, fully\ntype-checked code bases that are shockingly easy to refactor and maintain.\n"},{"id":"full-stack-typescript","name":"Full Stack TypeScript","summary":"Combine TypeScript and GraphQL's type systems to create full-stack, fully\ntype-checked code bases that are shockingly easy to refactor and maintain.\n"},{"id":"intermediate-v2","name":"Intermediate TypeScript","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"}]}},"markdownRemark":{"id":"e152b47e-442d-5eeb-b218-273728b2fbc4","excerpt":"What does “full stack typing” look like? TS is great, and gives us a lot of confidence around safety and refactoring where type-checking takes place. …but where…","html":"<h2 id=\"what-does-full-stack-typing-look-like\" style=\"position:relative;\"><a href=\"#what-does-full-stack-typing-look-like\" aria-label=\"what does full stack typing look like permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What does “full stack typing” look like?</h2>\n<p>TS is great, and gives us a lot of confidence around safety and refactoring where type-checking takes place.</p>\n<p>…but where does it NOT take place? <em>Anywhere outside of our JS code, at runtime</em></p>\n<p><strong>If you believe in the value proposition that TS offers in <code>.ts</code> files, the same benefits should hold true for what we’re talking about today.</strong></p>\n<p>Let’s imagine a TS react app with a TS node server, and a relational DB of some sort</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dd387724950089be867964b4bfba4e2a/29114/fullstack-ts.001.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.400000000000006%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVQoz2P4jwq+ffv26dOn79+///v37////79//3737t13MICIIAMGOAsi9+LFixMnTpw6derPnz//////+vXrjRs3jh07duLECYgIuuZ///79/fv3z98/////e/rsyevXr188f/7s+XOIipcvXrx8+eLVq1ePHj0CKf7zF4TANjEgW/vuzftXz15BRJ49e/b927ePn788fPoCIvLq1av379/DFUM1Hz9+vKe7p392d+vM2qZpNXfv3bl540Zre8eUzsYVExrmtZdfu3T+8eMnHV2d3dXNa9pmzC7vOLL/IFTz0mVLvd19QvvsYw+YecxVPnvp9KF9+x29AhZkOv1qNbyaJXNx/6bzF664BXpP8s29ZFy7Rjhq48wlUM2rVq8KD42Irw+KnOLm1xZ46erlI4cO+YdGdGSGbC12mZnueebI/kuXroTFRNYGp2+L6VgaXr9t1Uao5iVLlnh5eUWFR4RHZjgmzTt78dq+vXu8vLzCIyIDo1NME2btPHDq4oVzvr5+YZHhG/fu3Xvq3O69e6Ganzx5cvLkyXPnz529cO7E2YsfP3568+b1yZMnQQLnz508ff7Nm7cfP348derUubPnbl6/cePa9WfPnqHEMxkAGs9/IAAU26A4xCPy9+8/iABQMwDMfSAOfhd2QAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fullstack-ts\"\n        title=\"fullstack-ts\"\n        src=\"/static/dd387724950089be867964b4bfba4e2a/00d43/fullstack-ts.001.png\"\n        srcset=\"/static/dd387724950089be867964b4bfba4e2a/63868/fullstack-ts.001.png 250w,\n/static/dd387724950089be867964b4bfba4e2a/0b533/fullstack-ts.001.png 500w,\n/static/dd387724950089be867964b4bfba4e2a/00d43/fullstack-ts.001.png 1000w,\n/static/dd387724950089be867964b4bfba4e2a/aa440/fullstack-ts.001.png 1500w,\n/static/dd387724950089be867964b4bfba4e2a/29114/fullstack-ts.001.png 1920w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>We enjoy well defined types in client-side code, server-side code, and in our DB schema. However <strong>without doing some significant extra work, these may all be islands of independent type information.</strong></p>\n<p>Note that <strong>we may get no type safety across API calls.</strong> It’s possible for things to happen at runtime that are hard to predict and manage. Refactoring requires some significant vigilance!</p>\n<p>In particular, let’s look at a couple of dangerous spots where we lack type checking</p>\n<ul>\n<li>\n<p><code>fetch('/api/*')</code></p>\n<ul>\n<li>The payload sent to the API from a client</li>\n<li>The payload returned to the client from the API</li>\n</ul>\n</li>\n<li>\n<p><code>sql.query('SELECT * from things')</code> (or some other equivalent thing)</p>\n<ul>\n<li>The query sent to the DB</li>\n<li>The result set returned to the API from the DB</li>\n</ul>\n</li>\n</ul>\n<p>In this workshop, we’re going to be talking all about changing our scenario into something that looks more like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fcbbefd71d5d4f929bda66cdb8a88c43/29114/fullstack-ts.002.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.400000000000006%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVQoz5WRXWvTUBjH9xn8Cl7sAwjDO4c6ptnicG9JqtsYExEE8coLX6oy3JpWEVRWVhgM2U23QQcbiFD6olVn4nqSlZW1Q7S7KNXtNEu6pT1NzjnSNAgdIuzHuXj4P/zP8/D822gryK6a1lHdrlFKKKXExpZhYmQRZDlCC21/K+I0D2owDzd3yluYYEopriLz529d/WFkCgTjf5gJIRhjG9uUElj9pdc0rbpfNvec/wjaMxA06rBiljTi7NJ4hLRMppQeWYc60pq1YUFEa7Ri1eFhU8GaSSro+GRJlgL+5y9DAfHtk8ngw53v+Vwu7w/4p2aevgn5Zu+LWSVT2C2IfnHGKy5NBUP3fJ8/fHLNS8uLTFfv0IvO67GOS3OnJeVLMplkL/b1T5+/vXxupX08vZrYUEFXH/OKvZM582jxlLA6H3bNkZXI8AA/5h0QXndfmb4KMmoqleL6+ZEHgzd87LMLd+X4urKpDF3jHw/eejcqLnDe95E11xwOhy8zjIcTOP5m5/icDLYS8RjT0+PhBF6YODsRjH6UwMY3tpcd9vBr8UR0XY7GYq65WCxKkgQUkFbB17R6oOsQ7jcUAIACJFmFsKzruizLIA3y27ntbLZUKh2/9klxc7abNNJuZPgfBTs0c/4DKeojagjfLqIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fullstack-ts\"\n        title=\"fullstack-ts\"\n        src=\"/static/fcbbefd71d5d4f929bda66cdb8a88c43/00d43/fullstack-ts.002.png\"\n        srcset=\"/static/fcbbefd71d5d4f929bda66cdb8a88c43/63868/fullstack-ts.002.png 250w,\n/static/fcbbefd71d5d4f929bda66cdb8a88c43/0b533/fullstack-ts.002.png 500w,\n/static/fcbbefd71d5d4f929bda66cdb8a88c43/00d43/fullstack-ts.002.png 1000w,\n/static/fcbbefd71d5d4f929bda66cdb8a88c43/aa440/fullstack-ts.002.png 1500w,\n/static/fcbbefd71d5d4f929bda66cdb8a88c43/29114/fullstack-ts.002.png 1920w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>In this world, we have the “green types” (let’s call this “client representation”)\nhelping us in the client, along the API call, and even in some business logic on the sever.</p>\n<p>The “purple types” (let’s call this the “db representation”) are also visible on the server\nand also the DB. If we imagine a world where we <em>almost never handwrite DB queries</em>, we can also get some benefits\nof refactoring safety along API-to-DB communication.</p>\n<h2 id=\"the-scenario-well-explore\" style=\"position:relative;\"><a href=\"#the-scenario-well-explore\" aria-label=\"the scenario well explore permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Scenario We’ll Explore</h2>\n<p>There are multiple approaches we could take to arrive at this outcome, and we’ll talk more than one of them because there are some important trade-offs to consider. We’ll spend most of our time diving deep into my preferred setup (in my opinion, the one that’s most likely to work for you).</p>\n<ul>\n<li><strong>We’ll use TypeScript to write all of our code</strong>, although we will consider and discuss how things would work if our BE was written in another PL</li>\n<li><strong>We’ll use GraphQL as our “API query language and wire format”</strong>. Other options like falcor exist, but the graphql ecosystem is rich and makes our life easy (think: vscode and browser extensions, etc…)</li>\n<li><strong>We’ll focus on using a very simple relational DB</strong>. There are many good choices for databases, and many of them have great type systems, but exploring deeply into this is beyond the scope of this course.</li>\n</ul>\n<p>There are two main schools of thought around how to have a single source of truth for your types in one place</p>\n<h3 id=\"the-schema\" style=\"position:relative;\"><a href=\"#the-schema\" aria-label=\"the schema permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“The Schema”</h3>\n<p>We will spend almost all of our time talking about this kind of setup</p>\n<p>A single source of truth will be a GraphQL schema, and we’ll generate TypeScript code both for our UI and API.</p>\n<p>Key tools: <a href=\"https://github.com/prisma-labs/graphqlgen\">graphqlgen</a>, <a href=\"https://www.graphql-code-generator.com/\">graphql-code-generator</a>, <a href=\"https://github.com/apollographql/apollo-tooling#apollo-clientcodegen-output\">apollo CLI codegen</a></p>\n<h3 id=\"the-interfaces\" style=\"position:relative;\"><a href=\"#the-interfaces\" aria-label=\"the interfaces permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>“The Interfaces”</h3>\n<p><strong>We won’t touch on this idea much, because the tooling around this setup is far less mature.</strong>\nDefine TypeScript types for our “schema” and generate the GraphQL part using a tool.</p>\n<p>Key tools: <a href=\"https://github.com/MichalLytek/type-graphql\">type-graphql</a>, <a href=\"https://docs.nestjs.com/graphql/quick-start\">Nest.js</a></p>\n<p>However, first we need to learn a little bit about what GraphQL is, and the problems it solves</p>","tableOfContents":"<ul>\n<li><a href=\"#what-does-full-stack-typing-look-like\">What does “full stack typing” look like?</a></li>\n<li>\n<p><a href=\"#the-scenario-well-explore\">The Scenario We’ll Explore</a></p>\n<ul>\n<li><a href=\"#the-schema\">“The Schema”</a></li>\n<li><a href=\"#the-interfaces\">“The Interfaces”</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/course/full-stack-typescript/01-intro/"},"frontmatter":{"title":"Intro","course":"full-stack-typescript","date":"March 24, 2022","description":"We'll discuss the goals and agenda of this course, and how to get up and\nrunning with the workshop project in 2 minutes or less.\n"}}},"pageContext":{"slug":"/course/full-stack-typescript/01-intro/","title":"Intro","course":"full-stack-typescript","order":1,"previous":null,"next":{"fields":{"slug":"/course/full-stack-typescript/02-graphql-intro/"},"frontmatter":{"title":"GraphQL Intro","order":2,"course":"full-stack-typescript","isExercise":null}}}},
    "staticQueryHashes": ["2785745750","2841359383"]}